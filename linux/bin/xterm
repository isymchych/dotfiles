#!/usr/bin/env bash

# GIO has a hardcoded list of supported terminals
# xterm is in that list

set -euo pipefail

# If the caller already passes ghostty flags (e.g. -t/-e),
# just forward them unchanged so existing bindings keep working.
for arg in "$@"; do
    if [[ "$arg" == "-e" ]]; then
        exec wezterm "$@"
    fi
done

# Basic xterm compatibility: when invoked without -e, treat the
# arguments as a command that should run inside the terminal.
if [[ $# -eq 0 ]]; then
    exec wezterm
fi

exec wezterm -e "$@"
