#!/usr/bin/env bash

cases="lock screen
logout
suspend
sleep
hibernate
reboot
restart
shutdown
halt
poweroff"

confirm() {
  wofi --dmenu <<EOF | grep -q '^yes$'
no
yes
EOF
}

res=$(echo "$cases" | wofi --dmenu)

case "$res" in
    "lock screen")
        mb-lock-screen
        ;;
    "logout")
        confirm && swaymsg exit
        ;;
    "suspend" | "sleep")
        mb-lock-screen & systemctl suspend
        ;;
    "hibernate")
        confirm && mb-lock-screen & systemctl hibernate
        ;;
    "reboot" | "restart")
        confirm && systemctl reboot
        ;;
    "shutdown" | "poweroff" | "halt")
        confirm && systemctl poweroff
        ;;
esac

exit 0
